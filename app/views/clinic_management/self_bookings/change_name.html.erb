<%# ============================================================================
    Self-Booking: Change Name Screen
    
    Shown when the patient indicates they are not the expected person.
    Allows them to enter their correct name.
    ============================================================================ %>

<!-- Step indicator -->
<div class="step-indicator">
  <div class="step-dot active"></div>
  <div class="step-dot"></div>
  <div class="step-dot"></div>
  <div class="step-dot"></div>
</div>

<!-- Back button -->
<%= link_to self_booking_path(@lead.self_booking_token), class: "back-btn" do %>
  <i class="fas fa-arrow-left"></i>
  Voltar
<% end %>

<!-- Main card -->
<div class="booking-card">
  <div class="text-center mb-6">
    <div class="inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4">
      <i class="fas fa-user-edit text-blue-600 text-2xl"></i>
    </div>
  </div>
  
  <h2 class="text-xl font-bold text-gray-900 text-center mb-2">
    Qual é o seu nome?
  </h2>
  
  <p class="text-gray-600 text-center mb-6">
    Digite o nome do paciente que será atendido
  </p>
  
  <%= form_with url: self_booking_update_name_path(@lead.self_booking_token), 
                method: :post, 
                local: true,
                class: "space-y-4" do |f| %>
    
    <div>
      <label for="patient_name" class="block text-sm font-medium text-gray-700 mb-2">
        Nome do paciente
      </label>
      <input type="text" 
             name="patient_name" 
             id="patient_name"
             required
             autofocus
             placeholder="Ex: Maria Silva"
             class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-lg
                    focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 
                    focus:outline-none transition-all"
             value="<%= @patient_name %>">
    </div>
    
    <button type="submit" class="btn-primary">
      <i class="fas fa-arrow-right mr-2"></i>
      Continuar
    </button>
  <% end %>
</div>
